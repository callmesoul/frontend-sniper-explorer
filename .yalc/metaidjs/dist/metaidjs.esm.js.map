{"version":3,"file":"metaidjs.esm.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/popup.ts","../src/postmessage-client.ts","../src/metaidjs.ts","../src/index.ts"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/*\n * @Author: ohosanna \n * @Date: 2020-03-18 14:45:22 \n * @Last Modified by: ohosanna\n * @Last Modified time: 2020-07-08 16:48:53\n */\n\nimport './styles/popup.css'\n\ninterface PopupOptionsTypes {\n  title?: string;\n  message: string;\n  className?: string;\n  showClose?: boolean;\n  buttonText?: string;\n  buttonText2?: string;\n  buttonUrl?: string;\n  buttonUrl2?: string;\n  buttonAction?: Function;\n  buttonAction2?: Function;\n  useCurrentWindow?:boolean;\n}\n\nclass Popup {\n  popupWrapper: HTMLElement\n  constructor() {\n    const popupEl = document.createElement('div')\n    popupEl.setAttribute('id', 'showmoney-popup')\n    document.body.appendChild(popupEl)\n    this.popupWrapper = popupEl\n  }\n  info(options: PopupOptionsTypes) {\n    this.show('info', options)\n  }\n  error(options: PopupOptionsTypes) {\n    this.show('error', options)\n  }\n  loading() {\n    console.log(this.popupWrapper)\n    this.show('info', {message: 'test'})\n  }\n  confirm(options: PopupOptionsTypes) {\n    if (!options.buttonAction) {\n      options.buttonAction = () => {\n        this.close()\n      }\n    }\n    this.show('confirm', options)\n  }\n  show(type: string = 'info', options: PopupOptionsTypes) {\n    const popupDom = this.generatePopupContent(options)\n    this.popupWrapper.appendChild(popupDom)\n    this.popupWrapper.className = type + '-popup' + ' active'\n  }\n  close() {\n    this.popupWrapper.className = ''\n    this.popupWrapper.innerHTML = ''\n  }\n  generatePopupContent(options: PopupOptionsTypes) {\n    const box = document.createElement('div')\n    box.className = 'sm-popup-box ' + (options.className ? options.className : '')\n\n    // progress\n    const progress = document.createElement('div')\n    progress.className = 'sm-linear-progress'\n    const bar1 = document.createElement('div')\n    bar1.className = 'bar bar1'\n    const bar2 = document.createElement('div')\n    bar2.className = 'bar bar2'\n    progress.appendChild(bar1)\n    progress.appendChild(bar2)\n    box.appendChild(progress)\n\n    // header\n    const popupHeader = document.createElement('header')\n    popupHeader.className = 'sm-popup-header'\n    const popupTitle = document.createElement('h2')\n    popupTitle.className = 'sm-popup-title'\n    if(options.title) {\n      popupTitle.innerHTML = options.title\n      popupHeader.appendChild(popupTitle)\n    }\n    const closeBtn = document.createElement('button')\n    closeBtn.className = 'sm-popup-close'\n    closeBtn.onclick = () => { this.close() }\n    if (options.showClose !== false) {\n      popupHeader.appendChild(closeBtn)\n    }\n\n    // content\n    const popupContent = document.createElement('div')\n    popupContent.className = 'sm-popup-content'\n    popupContent.innerHTML = options.message\n\n    // footer\n    const popupFooter = document.createElement('footer')\n    popupFooter.className = 'sm-popup-footer'\n    if(options.buttonText) {\n      const button = document.createElement('button')\n      button.className = 'sm-popup-btn sm-popup-btn1'\n      button.innerText = options.buttonText\n      if(options.buttonUrl) {\n        const url = options.buttonUrl\n        button.onclick = () => {\n          window.open(url, '_blank')\n        }\n      }\n      if (options.buttonAction) {\n        button.onclick = () => {\n          if (typeof options.buttonAction === 'function') options.buttonAction()\n        }\n      }\n      popupFooter.appendChild(button)\n    }\n    if(options.buttonText2) {\n      const button2 = document.createElement('button')\n      button2.className = 'sm-popup-btn sm-popup-btn2'\n      button2.innerText = options.buttonText2\n      if (options.buttonUrl2) {\n        const url = options.buttonUrl2\n        button2.onclick = () => {\n          if(options.useCurrentWindow){\n            window.open(url)\n          }else{\n            window.open(url, '_blank')\n          }\n        }\n      }\n      if (options.buttonAction2) {\n        button2.onclick = () => {\n          if (typeof options.buttonAction2 === 'function') options.buttonAction2()\n        }\n      }\n      popupFooter.appendChild(button2)\n    }\n\n    box.appendChild(popupHeader)\n    box.appendChild(popupContent)\n    box.appendChild(popupFooter)\n    return box\n  }\n}\n\nexport default new Popup()","// Import here Polyfills if needed. Recommended core-js (npm i -D core-js)\n// import \"core-js/fn/array.find\"\n// ...\n\nconst generateRandomId = ():string => {\n  return (Math.floor(Math.random() * 100000000000000000)).toString()\n}\n\ninterface ObjTypes<T> {\n  [key: string]: T;\n  [key: number]: T;\n}\n\nexport default class PostmessageClient {\n  handlers: ObjTypes<Function>\n  targetWindow: Window | null\n  _pendingMessages: []\n  _deliverMessages: boolean\n  _replayQueue: object\n\n  constructor (window: Window | null ) {\n    this.handlers = {}\n    this.targetWindow = window\n    this._pendingMessages = []\n    this._deliverMessages = false\n    this._replayQueue = {}\n  }\n\n  start() {\n    window.addEventListener('message', this._onMessageReceived, false)\n  }\n  finalize() {\n    window.removeEventListener('message', this._onMessageReceived, false)\n  }\n  subscribe(topic: string, handler: Function) {\n    this.handlers[topic] = handler\n  }\n  send(topic: string, payload: any, metadata = {}) {\n    if (!this.targetWindow) {\n      return console.log('请指定目标窗口')\n    }\n    const messageId = generateRandomId()\n    const message = {\n      v1: {\n        topic,\n        payload,\n        messageId,\n        ...metadata\n      }\n    }\n    this.targetWindow.postMessage(message, '*')\n    return message\n  }\n  _onMessageReceived = async (event: ObjTypes<any>) => {\n    if (!event.data || !event.data.v1) {\n      return\n    }\n    const message = event.data.v1\n    const handler = this.handlers[message.topic]\n    if (handler) {\n      try {\n        const response = await handler(message)\n        if (message.reply) {\n          this.send(`${message.topic}:reply`, response, { repliesTo: message.messageId })\n        }\n      } catch (e) {\n        console.error(e)\n        throw e\n      }\n    }\n  }\n}","import Popup from './popup'\nimport PostmessageClient from './postmessage-client'\n\ndeclare global {\n  interface Window {\n    mainFrameMessage: PostmessageClient;\n  }\n}\n\ninterface ObjTypes<T> {\n  [key: string]: T;\n  [key: number]: T;\n}\ninterface BaseParamsType {\n  accessToken: string;\n  callback?: Function;\n  onCancel?: Function;\n}\ninterface OauthSettingsTypes {\n  clientId: string;\n  redirectUri: string;\n  clientSecret?: string;\n  scope?: string;\n  responseType?: string;\n}\ninterface ResponseTypes {\n  code: number;\n  status: string;\n  handlerId?: string;\n  data: ResponseDataTypes;\n}\ninterface ResponseDataTypes {\n  message: string;\n  [key: string]: any;\n}\ninterface ConstructorOptionsTypes {\n  baseUri?: string;\n  oauthSettings: OauthSettingsTypes;\n  onLoaded?: Function;\n  onError?: Function;\n}\nexport interface ProtocolOptions {\n  nodeName: string;\n  version?: string;\n  data?: string;\n  dataType?: string;\n  encoding?: string;\n  parentTxId?: string;\n  encrypt?: number | string;\n  metaIdTag?: string;\n  keyPath?: string;\n  parentAddress?: string;\n  needConfirm?: boolean;\n  checkOnly?: boolean;\n  brfcId?: string;\n  path: string;\n  nodeKey?: string;\n  payCurrency?: string;\n  payTo?: SendToTypes[];\n  autoRename?: boolean;\n}\ninterface SendToTypes {\n  address: string;\n  amount: number;\n}\ninterface ProtocolParamsTypes extends ProtocolOptions, BaseParamsType {\n  accessToken: string;\n  handlerId?: string;\n}\n\nconst generateRandomId = (): string => {\n  return (Math.floor(Math.random() * 100000000000000000)).toString()\n}\nconst hasClass = (el: HTMLElement, cls: string) => {\n  return el.className.match(new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)'))\n}\nconst addClass = (el: HTMLElement, cls: string) => {\n  if (!hasClass(el, cls)) el.className += \" \" + cls\n}\nexport class MetaIdJs {\n  postMessage = new PostmessageClient(window)\n  oauthSettings: OauthSettingsTypes\n  mainFrameEl: HTMLIFrameElement | null = null\n  SHOWMONEY_URL: string\n  accessToken = ''\n  isInjectMainFrame = false\n  isLoaded = false\n  _handlers: ObjTypes<any> = {}\n  onLoaded: Function | undefined\n  onError: Function = (res: ResponseTypes) => {\n    Popup.error({\n      message: res.data.message\n    })\n  }\n\n  constructor(options: ConstructorOptionsTypes) {\n    this.SHOWMONEY_URL = options.baseUri || \"https://www.showmoney.app\"\n    this.onLoaded = options.onLoaded\n    if (typeof options.onError === 'function') {\n      this.onError = options.onError\n    }\n    this.oauthSettings = {\n      ...options.oauthSettings,\n      clientSecret: '',\n      scope: 'app',\n      responseType: 'code'\n    }\n    this.init()\n  }\n\n  /**\n   * injectMainFrame  注入主框架\n   */\n  public injectMainFrame() {\n    const mainFrame = document.createElement('iframe')\n    const mainFrameWrapper = document.createElement('div')\n    mainFrame.setAttribute('id', 'showmoney-main-frame')\n    mainFrame.setAttribute('src', this.SHOWMONEY_URL + '/iframe')\n    mainFrameWrapper.setAttribute('id', 'mainframewrapper')\n    mainFrameWrapper.setAttribute('style', 'display: none;')\n    mainFrameWrapper.appendChild(mainFrame)\n    document.body.appendChild(mainFrameWrapper)\n    // 报告 main-frame 载入完成\n    mainFrame.onload = () => {\n      if (mainFrame.contentWindow) {\n        this.mainFrameEl = mainFrame\n        // 无法把postmessage实例保留，会报跨域错误\n        window.mainFrameMessage = new PostmessageClient(mainFrame.contentWindow)\n        window.mainFrameMessage.send('send-options', this.oauthSettings)\n        // window.mainFrameMessage = mainFrameMessage\n        this.isInjectMainFrame = true\n        // console.log('mainFrame loaded')\n      }\n    }\n  }\n  private initHandle() {\n    const functionObj = [\n      \"swapreqswapargs\",\n      \"estimateSwapToken2Amount\",\n      \"estimateSwapToken1Amount\",\n      \"isSupportedFt\",\n      \"swapft\",\n      \"getBalance\",\n      \"nftBuy\",\n      \"nftCancel\",\n      \"nftSell\",\n      \"genesisNFT\",\n      \"issueNFT\",\n    ]\n    for (const item of functionObj) {\n      (this as any)[item] = function (params: {\n        accessToken: string;\n        callback?: Function;\n        data: string;\n      }) {\n        const defParams: ObjTypes<any> = params\n        if (params.callback) {\n          const handlerId = generateRandomId()\n          this._handlers[handlerId] = {}\n          this._handlers[handlerId].callback = params.callback\n          defParams.handlerId = handlerId\n        }\n        delete defParams.callback\n        window.mainFrameMessage.send(item, defParams)\n      }\n    }\n  }\n  /**\n   * getUserInfo\n   */\n  public getUserInfo(params: {\n    accessToken: string;\n    callback?: Function;\n  }) {\n    const defParams: ObjTypes<any> = params\n    if (params.callback) {\n      const handlerId = generateRandomId()\n      this._handlers[handlerId] = {}\n      this._handlers[handlerId].callback = params.callback\n      defParams.handlerId = handlerId\n    }\n    delete defParams.callback\n    window.mainFrameMessage.send('get-user-info', defParams)\n  }\n  /**\n   * signMessage\n   */\n  public signMessage(params: {\n    accessToken: string;\n    callback?: Function;\n    data: string;\n  }) {\n    const defParams: ObjTypes<any> = params\n    if(params.callback) {\n      const handlerId = generateRandomId()\n      this._handlers[handlerId] = {}\n      this._handlers[handlerId].callback = params.callback\n      defParams.handlerId = handlerId\n    }\n    delete defParams.callback\n    window.mainFrameMessage.send('sign-messgae', defParams)\n  }\n  /**\n   * eciesEncryptData\n   */\n  public eciesEncryptData(params: {\n    accessToken: string;\n    callback?: Function;\n    data: string;\n  }) {\n    const defParams: ObjTypes<any> = params\n    if(params.callback) {\n      const handlerId = generateRandomId()\n      this._handlers[handlerId] = {}\n      this._handlers[handlerId].callback = params.callback\n      defParams.handlerId = handlerId\n    }\n    delete defParams.callback\n    window.mainFrameMessage.send('ecies-encrypt-data', defParams)\n  }\n  public eciesDecryptData(params: {\n    accessToken: string;\n    callback?: Function;\n    data: string;\n  }) {\n    const defParams: ObjTypes<any> = params\n    if(params.callback) {\n      const handlerId = generateRandomId()\n      this._handlers[handlerId] = {}\n      this._handlers[handlerId].callback = params.callback\n      defParams.handlerId = handlerId\n    }\n    delete defParams.callback\n    window.mainFrameMessage.send('ecies-decrypt-data', defParams)\n  }\n  /**\n   * ecdhEncryptData\n   */\n  public ecdhEncryptData(params: {\n    accessToken: string;\n    callback?: Function;\n    data: string;\n  }) {\n    const defParams: ObjTypes<any> = params\n    if(params.callback) {\n      const handlerId = generateRandomId()\n      this._handlers[handlerId] = {}\n      this._handlers[handlerId].callback = params.callback\n      defParams.handlerId = handlerId\n    }\n    delete defParams.callback\n    window.mainFrameMessage.send('ecdh-encrypt-data', defParams)\n  }\n  public ecdhDecryptData(params: {\n    accessToken: string;\n    callback?: Function;\n    data: string;\n  }) {\n    const defParams: ObjTypes<any> = params\n    if(params.callback) {\n      const handlerId = generateRandomId()\n      this._handlers[handlerId] = {}\n      this._handlers[handlerId].callback = params.callback\n      defParams.handlerId = handlerId\n    }\n    delete defParams.callback\n    window.mainFrameMessage.send('ecdh-decrypt-data', defParams)\n  }\n  public getFTList(params: {\n    accessToken: string;\n    callback?: Function;\n    data?: string;\n  }) {\n    const defParams: ObjTypes<any> = params\n    if(params.callback) {\n      const handlerId = generateRandomId()\n      this._handlers[handlerId] = {}\n      this._handlers[handlerId].callback = params.callback\n      defParams.handlerId = handlerId\n    }\n    delete defParams.callback\n    window.mainFrameMessage.send('get-ftlist', defParams)\n  }\n  // 版本兼容\n  public addProtocolNode(params: ProtocolParamsTypes) {\n    this.sendMetaDataTx(params)\n  }\n  /**\n   * createProtocolNode\n   */\n  public sendMetaDataTx(params: ProtocolParamsTypes) {\n    if (!params.checkOnly) {\n      this.showLoadingPopup()\n    }\n    if (params.callback || params.onCancel) {\n      const handlerId = generateRandomId()\n      this._handlers[handlerId] = {}\n      if (params.callback) {\n        this._handlers[handlerId]['callback'] = params.callback\n      }\n      if (params.onCancel) {\n        this._handlers[handlerId]['onCancel'] = params.onCancel\n      }\n      params = {\n        ...params,\n        handlerId: handlerId\n      }\n      delete params.callback\n      delete params.onCancel\n    }\n    if (this.isInjectMainFrame) {\n      window.mainFrameMessage.send('create-node', params)\n      // console.log(this._handlers)\n    } else {\n      throw new Error('showmoney frame 未加载')\n    }\n  }\n\n  public payToAddress(params: {\n    accessToken: string;\n    callback?: Function;\n    data: string;\n  }){\n    const defParams: ObjTypes<any> = params\n    if(params.callback) {\n      const handlerId = generateRandomId()\n      this._handlers[handlerId] = {}\n      this._handlers[handlerId].callback = params.callback\n      defParams.handlerId = handlerId\n    }\n    delete defParams.callback\n    window.mainFrameMessage.send('pay-to-address', defParams)\n  }\n  private handleCreateNodeSuccess = (res: ObjTypes<any>) => {\n    Popup.close()\n    this.mainFrameEl?.parentElement?.setAttribute('style', 'display: none;')\n    const payload = res.payload\n    const callback = this._handlers[payload.handlerId].callback\n    if (callback) {\n      callback(payload)\n    }\n  }\n  private showLoadingPopup() {\n    const popupEl = document.getElementById('showmoney-popup')\n    if (!popupEl) return\n    Popup.info({\n      message: 'Processing data...',\n      showClose: false\n    })\n    addClass(popupEl, 'loading')\n  }\n  private handleCreateNodeError = (res: ObjTypes<any>) => {\n    const payload = res.payload\n    Popup.close()\n    Popup.error({\n      message: payload.data && payload.data.message ? payload.data.message : res\n    })\n  }\n  private handleConfirmCreateNode = (res: ObjTypes<any>) => {\n    // console.log(\"confirm\", res);\n    Popup.close()\n    this.mainFrameEl?.parentElement?.removeAttribute('style')\n  }\n  private handleCloseCreateNode = (res: ObjTypes<any>) => {\n    Popup.close()\n    this.mainFrameEl?.parentElement?.setAttribute('style', 'display: none;')\n    const payload = res.payload\n    const callback = this._handlers[payload.handlerId].onCancel\n    if (callback) {\n      delete payload.handlerId\n      callback(payload)\n    }\n  }\n  private handleErrorNotLoggedIn(resolve: ObjTypes<any>) {\n    const message = resolve.payload\n    Popup.close()\n    Popup.info(message.popup)\n  }\n  private handleCallback = (res: ObjTypes<any>) => {\n    const payload = res.payload\n    const callback = this._handlers[payload.handlerId].callback\n    if (callback) {\n      delete payload.handlerId\n      callback(payload)\n    }\n  }\n  private handleSdkLoaded = () => {\n    this.isLoaded = true\n    if (typeof this.onLoaded === 'function') {\n      this.onLoaded()\n    }\n  }\n  private handleCommonError = (res: ObjTypes<any>) => {\n    console.log('error', res)\n    const payload = res.payload\n    Popup.close()\n    if (payload.code === 202) {\n      Popup.confirm({\n        message: 'User authentication expired.',\n        showClose: false,\n        buttonText: 'Cancel',\n        buttonText2: 'Login',\n        buttonUrl2: `${this.SHOWMONEY_URL}/userLogin?response_type=code&client_id=${this.oauthSettings.clientId}&redirect_uri=${this.oauthSettings.redirectUri}&scope=app&from=${this.oauthSettings.redirectUri}`\n      })\n    } else {\n      this.onError(payload)\n    }\n  }\n  private handleLoading = () => {\n    this.showLoadingPopup()\n  }\n  private handleNotEnoughMoney = (res: ObjTypes<any>) => {\n    const payload = res.payload\n    const message = payload.data.message\n    Popup.close()\n    Popup.confirm({\n      message: message ? message : 'Not enough money',\n      showClose: false,\n      buttonText: 'Cancel',\n      buttonText2: 'Top up BSV',\n      buttonUrl2: this.SHOWMONEY_URL,\n      buttonAction: () => {\n        Popup.close()\n        if ((window as any).handleNotEnoughMoney) {\n          (window as any).handleNotEnoughMoney(payload)\n        }\n        // const callback = this._handlers[payload.handlerId].callback\n        // if (callback) {\n        //   callback(payload)\n        // }\n      }\n    })\n  }\n  private init() {\n    this.injectMainFrame()\n\n    // 监听信息\n    this.postMessage.start()\n    this.initHandle()\n    this.postMessage.subscribe('sdk-loaded', this.handleSdkLoaded)\n    this.postMessage.subscribe('error.not-logged-in', this.handleErrorNotLoggedIn)\n    this.postMessage.subscribe('loading', this.handleLoading)\n    this.postMessage.subscribe('success.create-node', this.handleCreateNodeSuccess)\n    this.postMessage.subscribe('confirm.create-node', this.handleConfirmCreateNode)\n    this.postMessage.subscribe('close.create-node', this.handleCloseCreateNode)\n    this.postMessage.subscribe('error.create-node', this.handleCreateNodeError)\n    this.postMessage.subscribe('error.not-enough-money', this.handleNotEnoughMoney)\n    this.postMessage.subscribe('receive-callback', this.handleCallback)\n    this.postMessage.subscribe('error.common', this.handleCommonError)\n  }\n}","import { MetaIdJs } from \"./metaidjs\"\n\ndeclare global {\n  interface Window {\n    MetaIdJs?: Function; \n    handleNotEnoughMoney?: Function; \n  }\n}\n\nwindow.MetaIdJs = MetaIdJs\n\nexport default MetaIdJs"],"names":["generateRandomId","Popup"],"mappings":"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"}